
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Reset Password</title>
  <style>
    *{
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      text-align: center;
      background-color: white;
      font-family: Arial, sans-serif;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 20px;
    }

    .container {
      display: flex;
      flex-direction: column;
      justify-content: center;
      background: white;
      padding: 40px;
      border-radius: 10px;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
      max-width: 450px;
      width: 100%;
    }

    .item {
      justify-content: center;
      margin: 5%;
      background-color: rgb(4, 67, 88);
      color: gray;
      border: solid 3px rgb(73, 88, 102);
      border-radius: 8px 8px 8px 8px;
      padding: 10px;
      width: auto;
      flex-wrap: wrap;
    }

    .card {
      border: 1px solid #ddd;
      border-radius: 10px;
      box-shadow: 0 0 10px;
      background-color: rgba(66, 53, 53, 0.733);
      padding: 10px;
      transition: all 0.3s ease-in-out;
      margin: 10px;
      text-align: center;
      width: auto;
      flex-wrap: wrap;
    }

    .card:hover {
      box-shadow: 0 0 20px rgba(0, 0, 0, 0.2);
      transform: translateY(-5px);
    }

    h1 {
      color: rgb(152, 217, 219);
      margin: 3px;
      margin-bottom: 10px;
      font-size: 28px;
    }

    h2 {
      color: rgb(152, 217, 219);
      margin: 3px;
    }

    .subtitle {
      color: rgb(111, 197, 197);
      margin-bottom: 30px;
      font-size: 14px;
      font-family: Georgia, 'Times New Roman', Times, serif;
    }

    .form-group {
      margin-bottom: 20px;
    }

    label {
      display: block;
      margin-bottom: 8px;
      color: rgb(39, 236, 154);
      font-weight: 500;
    }

    input[type="password"], input, textarea {
      width: 100%;
      padding: 12px;
      color: rgb(22, 133, 122);
      border: solid 2px gray;
      border-radius: 5px 5px 5px 5px;
      margin: 5px;
      font-size: 16px;
      transition: border-color 0.3s;
    }

    input[type="password"]:focus {
      outline: none;
      border-color: #667eea;
    }

    button {
      width: 100%;
      padding: 12px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border: none;
      border-radius: 5px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: transform 0.2s;
    }

    button:hover {
      transform: translateY(-2px);
    }

    button:disabled {
      opacity: 0.6;
      cursor: not-allowed;
    }

    .error, #email-error-message {
      background-color: #fee;
      color: #c33;
      padding: 12px;
      border-radius: 5px;
      margin-bottom: 20px;
      border-left: 4px solid #c33;
    }

    #email-error-message {
      color: red;
    }

    .success, #payment-success-message, #email-success-message {
      background-color: #efe;
      color: #3c3;
      padding: 12px;
      border-radius: 5px;
      margin-bottom: 20px;
      border-left: 4px solid #3c3;
    }

    #payment-success-message, #email-success-message {
      color: springgreen;
    }

    .back-link {
      text-align: center;
      margin-top: 20px;
    }

    .back-link a, a {
      color: rgb(97, 255, 176);
      text-decoration: none;
      font-weight: 40px;
      font-size: 15px;
    }

    .back-link a:hover {
      text-decoration: underline;
    }

    .password-requirements {
      font-size: 12px;
      color: #666;
      margin-top: 5px;
    }

    p {
      color: rgb(111, 197, 197);
      font-family: Georgia, 'Times New Roman', Times, serif;
    }

    legend {
      color: orange;
    }

    fieldset {
      border-radius: 20px 20px 20px 20px;
      margin: 30px;
      border: solid 5px gray;
      padding: 10px;
    }

    strong {
      font-size: xx-large;
      font-weight: bolder;
      font-style: oblique;
      font-family: cursive;
      color: rgb(65, 249, 255);
      margin: 40px;
    }

    em {
      color: springgreen;
    }

    li {
      color: rgb(175, 139, 139);
      margin: 10px;
    }

    .list-item {
      color: springgreen;
    }
  </style>
</head>
<body>

  <main class="container">

  <div class="item">

    
    <h1>Reset Password</h1>
    <p class="subtitle">Enter your new password below.</p>

    <% if (error) { %>
      <div class="error"><%= error %></div>
    <% } %>

    <% if (message) { %>
      <div class="success">
        <%= message %>
        <div style="margin-top: 15px;">
          <a href="/api/Log-In" style="color: #3c3; font-weight: bold;">Go to Login →</a>
        </div>
      </div>
    <% } %>

    <% if (token) { %>
      <form action="/reset-password/<%= token %>" method="POST">
        <div class="form-group">
          <label for="password">New Password</label>
          <input 
            type="password" 
            id="password" 
            name="password" 
            placeholder="Enter new password"
            minlength="6"
            required
          >
          <p class="password-requirements">Must be at least 6 characters long</p>
        </div>

        <div class="form-group">
          <label for="confirmPassword">Confirm Password</label>
          <input 
            type="password" 
            id="confirmPassword" 
            name="confirmPassword" 
            placeholder="Confirm new password"
            minlength="6"
            required
          >
        </div>

        <button type="submit" class="enrollment">Reset Password</button>
      </form>
    <% } %>

    <div class="back-link">
      <a href="/api/Log-In">← Back to Login</a>
    
  </div>

</main>
</body>
</html>